%%
%% $Id$
%%
%% Authors:
%% 	Jeff Buchbinder <jeff@freemedsoftware.org>
%%
%% FreeMED Electronic Medical Record and Practice Management System
%% Copyright (C) 1999-2006 FreeMED Software Foundation
%%
%% This program is free software; you can redistribute it and/or modify
%% it under the terms of the GNU General Public License as published by
%% the Free Software Foundation; either version 2 of the License, or
%% (at your option) any later version.
%%
%% This program is distributed in the hope that it will be useful,
%% but WITHOUT ANY WARRANTY; without even the implied warranty of
%% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
%% GNU General Public License for more details.
%%
%% You should have received a copy of the GNU General Public License
%% along with this program; if not, write to the Free Software
%% Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
%%
%%	FreeMED TeX Template
%%	Progress Notes
%%

\documentclass{article}

% No normal header, footer, etc
% Extra room on bottom and left for bindings, etc
\usepackage[top=0.5in,left=1.2in,right=0.5in,bottom=1.2in,nohead,nofoot]{geometry}
% Relative size package
\usepackage{relsize}

% Macro for progress-note type headers
\newcommand{\sheading}[1]{\textbf{#1:}}

\begin{document}

% Deal with the document "header". For now, we're just looking at a one-time
% only display. FIXME: Migrate this to a header.
\begin{center}
        {\relsize{1}\textbf{{[link link=$pnotesdoc table='physician' field='phypracname'|texize]}}} \\
        {\relsize{-1}\textsl{{[method namespace='org.freemedsoftware.core.Physician.fullName' param=$pnotesdoc|texize]}}} \\
        \textsl{{[link link=$pnotesdoc table='physician' field='phyaddr1a'|texize]}, {[link link=$pnotesdoc table='physician' field='phycitya'|texize]}, {[link link=$pnotesdoc table='physician' field='phystatea'|texize]} {[link link=$pnotesdoc table='physician' field='phyzipa'|texize]} } \\
        \textsl{phone {[link link=$pnotesdoc table='physician' field='phyphonea'|texize]} fax {[link link=$pnotesdoc table='physician' field='phyfaxa']}}
\end{center}

% {[method namespace='org.freemedsoftware.core.Physician.fullName' param=$pnotesdoc|texize]} \\
\begin{tabular}{ll}
NAME:	&	{[method namespace='org.freemedsoftware.core.Patient.fullName' param=$pnotespat|texize]}	\\
CHART:	&	{[link link=$pnotespat table='patient' field='ptid'|texize]} 	\\
DOB:	&	{[link link=$pnotespat table='patient' field='ptdob'|texize]}	\\
DATE:	&	{[$pnotesdt|texize]} \\
PRINTED: &	\today \\
\end{tabular}

\begin{center}
	{\relsize{1}\textbf{PATIENT PROGRESS NOTES}}
\end{center}

% Nice fixed block with \cr's in between them
\begin{tabular}{ll}
{[if $pnotesbmi]}
\sheading{BMI} & {[$pnotesbmi|texize]} \\
{[/if]}
{[if $pnotesheight]}
\sheading{Height} & {[$pnotesheight]} \\
{[/if]}
{[if $pnotesweight]}
\sheading{Weight} & {[$pnotesweight]} \\
{[/if]}
{[if $pnotessbp]}
\sheading{Blood Pressure} & {[$pnotessbp]} over {[$pnotesdbp]} \\
{[/if]}
{[if $pnotesheartrate]}
\sheading{Heart Rate} & {[$pnotesheartrate]} \\
{[/if]}
{[if $pnotesresprate]}
\sheading{Respiratory Rate} & {[$pnotesresprate]} \\
{[/if]}
{[if $pnotestemp]}
\sheading{Temperature} & {[$pnotestemp]} \\
{[/if]}
\  &  \  
\end{tabular} \\
\par

{[if strlen($pnotes_S) ge 10]}
\noindent\sheading{SUBJECTIVE} {[$pnotes_S|texize]}
\par
{[/if]}

{[if strlen($pnotes_O) ge 10]}
\noindent\sheading{OBJECTIVE} {[$pnotes_O|texize]}
\par
{[/if]}

{[if strlen($pnotes_A) ge 10]}
\noindent\sheading{ASSESSMENT} {[$pnotes_A|texize]}
\par
{[/if]}

{[if strlen($pnotes_P) ge 10]}
\noindent\sheading{PLAN} {[$pnotes_P|texize]}
\par
{[/if]}

{[if strlen($pnotes_I) ge 10]}
\noindent\sheading{INTERVAL} {[$pnotes_I|texize]}
\par
{[/if]}

{[if strlen($pnotes_E) ge 10]}
\noindent\sheading{EDUCATION} {[$pnotes_E|texize]}
\par
{[/if]}

{[if strlen($pnotes_R) ge 10]}
\noindent\sheading{RX} {[$pnotes_R|texize]}
\par
{[/if]}

\end{document}
