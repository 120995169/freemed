freemed project changelog
($Id$)

* Fri Feb 09 2001 rufustfirefly
  - use new version_check() from phpwebtools 0.2 release
  - added stub lib/module_edi.php to repository
  - releasing 0.2.1 (Persephone) CVS release

* Wed Feb 07 2001 rufustfirefly
  - cleaning up modules/payment.module.php a little in the addform section
    to have nbsp;'s for proper rendering

* Wed Feb 07 2001 fforest
    more bug fixes like previously. mostly global variable issues
    $db_name to this->table_name etc.
    added the new payment module to cvs. 
	
* Fri Feb 02 2001 fforest
	mostly bug fixes. things needing $sql as global
    html_form::, $this->table_name etc.
	a few more bug fixes like above at 4:43pm est 

* Fri Jan 26 2001 rufustfirefly
  - added fix for null icons in phpwebtools module class (external)
  - added modules/patient_demographic_report.module.php as a test of the
    report system

* Fri Jan 26 2001 fforest
  - auth module needed to use authdtadd for add and authdtmod for mod
      also fixed patient id so records added did not have 0 patient.
  - manage_bills needed ptocdtbilled. (bug by me from last commit)

* Thu Jan 25 2001 rufustfirefly
  - fixed procedure module to pass "module" variable in wizard
  - added includes to billing functions modules so that the module loader
    doesn't complain
  - scope fixes in modules/authorizations.module.php in add
  - moved help.php3 -> help.php
  - added reports category, icon and module loader, and frame for class
  - added doc/ directory, moved much documentation from root of tree
  - moved img/index.php3 -> img/index.php
  - added img/magnify.gif and "Module Information" to admin module
  - silly typo removed in user module
  - added module_information.php, and updated phpwebtools with extra fields,
    etc
  - default MODULE_AUTHOR in lib/module.php
  - fixed logout to have proper define usage
  - fixed authenticate to be nicely parsed and proper

* Wed Jan 24 2001 fforest
  - admin.php added procdtbilled to procrec
  - genereate_fixed_forms.php fix bug in insurance validation
      re arranged code to allow a new bill to be generated when a procs eoc or auth
      changes. this ensures auth,eoc and procs aren't miss billed.
      mark billed now generates payrec entried with payreccat of BILLED for each proc marked.
  - manage_bills.php - re written as a control break to make dtbilled processing easier. 
        the date billed on the screen shows the oldest date of a proc set.
  - manage_payment_records.php no show procdtbilled for procs. 
        transfer type ledger entries now capture transferto as payreclink and the procbalcurrent
        is copied to the payrecamt.
  - payment_records.php  add code to show the new BILLED ledger entries. also show who was billed.
           transfers now show transferred to value as prim,sec etc.
  - macros.php added PAYER_TYPES array and BILLED define.
  - render_forms.php  fix a bug in diagnosis counting in testAdd function
  - prescription_module. fix include error.
  - procedure_module fix to get insurer from new patient container values.
      use '0000-00-00' for dtbilled when proc is added.

* Wed Jan 24 2001 rufustfirefly
  - added David Jordan's patch for book_appointment module
  - updated lib/module_emr.php to allow for less code rekeying and
    display action
  - moved episode_of_care.php -> modules/episode_of_care.module.php
  - removed modules/progress_notes.module.php's delete stub
  - optimized modules to not use includes ... all including is now done
    in the module_loader, manage, db_maintenance code
  - moved echo.php3 -> echo.php
  - removed legacy:
    _TEMPLATE_.php3
    display_global.php3
    image-handler.php3
  - moved custom_records.php3 -> custom_records.php
  - moved generate_button.php3 -> generate_button.php

* Tue Jan 23 2001 rufustfirefly
  - slight updates to README
  - moved icd9.php3 -> modules/icd.module.php
  - moved fixed_forms.php3 -> modules/fixed_forms.module.php
  - commented out all static references in db_maintenance module
  - updated phpwebtools to sort listings of modules...

* Fri Jan 19 2001 rufustfirefly
  - moved diagnosis_family.php3 -> modules/diagnosis_family.module.php
  - fixed insurance company module to have name and version (oops!)
  - changed form_table -> html_form::form_table universally
  - slightly updated patient.php's notebook been_here code
  - small cleanups in index.php
  - removing stale variables from lib/freemed.php
  - fixed user.php multiple-choice stuff, and cleaned up the API a little
  - removed test_modules_list.php
  - moved inscogroup.php3 -> modules/insurance_company_group.module.php
  - moved room.php -> modules/room.module.php

* Thu Jan 18 2001 rufustfirefly
  - minor problems in manage_appointments.php
  - moved questionnaire_template.php3 ->
    modules/questionnaire_template.module.php
  - finally removed physician.php3 from root of tree (it was moved to
    modules/provider.module.php a while ago)
  - moved patient_status.php3 -> modules/patient_status.module.php
  - moved insco.php3 -> modules/insurance_company.module.php
    (but might still have some bugs ... haven't checked it yet

* Tue Jan 16 2001 rufustfirefly
  - cpt.php3 -> modules/cpt.module.php

* Tue Jan 16 2001 fforest
  - accidenty applied my freemed.inc. put that back to the original
  - fix a bug I intrduced in generate_fixedforms that issued a warning if
    insured did not have coverage. 
  - add a rebill option to the manage_payments select list. added the code
    to handle just a rebill.
  - removed the rebill option from manage_payments paymentform since there
    is a seperate option now.
  - commented out the code in manage_payments that resets the procbalcurrent
    to 0. We don't ask the user if they want this. we just do it if they
    select no on the rebill. I'll make in optional in the next round
    of updates.

* Wed Jan 09 2001 fforest
  - manage_bills show unpaid proc totals per patient. grand total at end
  - generate_fixed_forms Added some warning messages to spit out 
    during bill generation.
  - manage_payments handling of allowed amt (fee adjust) recoded to act
    more like a deductable but with a twist. Looks better on ledger also.
    pick up payrectype,source and desc for payments. also allow bill to be 
    resubmitted from a payment add.
  - patient issue warning messages if :
      more than 1 insurer of a type is active.
      more than 1 guar is active.
  - payment_records dont allow Next without selecting a proc
    ledger is now a control break report with subtotals by procedure.
  - macros add FEEADJUST 9

* Wed Jan 09 2001 rufustfirefly
  - fixed bug in freemed_display_arraylist() [thanks to Fred for that one]

* Tue Jan 09 2001 fforest
   - change all fdb_ to $sql->

* Tue Jan 09 2001 fforest
  - containers for patient have been updated to support the new
    guarantor/payer tables.
  - other files changed to get inscos and payers using the new fields in
    patient class.
  - Link to payment records added to manage_payments screen to display
    ledger transactions for the selected procedurei only.
  - new functions added to API for getting the payers and guars. used by
    patient class.

* Mon Jan 01 2001 rufustfirefly
  - moved facility.php3 -> modules/facility.module.php
  - moved patient_record_template.php3 ->
    modules/patient_record_template.module.php
  - minor fixes in lib/module_maintenance.php (paper bag stupid!)
  - moved authorizations.php -> modules/authorizations.php

* Sat Dec 30 2000 fforest
   - fix a few coding errors in generate_fixed_forms and manage_bills
   - lib/API.php fixed htmlize_array
   - lib/calender-functions  fix date_in_range to return true if in range.

* Fri Dec 29 2000 rufustfirefly
  - small i18n fixes and buffer rewrites in generate_fixed_forms.php

* Thu Dec 28 2000 fforest
  - admin.php added 2 new tables guarantor and payer. the patient record no
    longer need to carry this info around
  - patient.php now using the new tables added above.
  - generate_fixed_forms using sql joins to get payirecs and procrecs together.
    changed billing to use a payer type selected from the menu. only bills for
    this payer type will generate. revoced the code for invoice. no longer
    needed.

  - took a few commits to get things working with the new webtools stuff.
  - freemed_auth_login needed global $sql 

* Thu Dec 28 2000 rufustfirefly
  - rehauling db layer today. i think everything that could have been broken
    is now *being* broken. using phpwebtools sql class now.
  - moved index.php3 -> index.php
  - moved manage_payment_records.php3 -> manage_payment_records.php
  - moved call-in.php3 -> call-in.php
  - moved cptmod.php3 -> modules/cpt_modifiers.module.php
  - moved patient_image_handler.php3 -> patient_image_handler.php
  - moved internal_service_types.php3 -> internal_service_types.module.php
  - added add() and mod() routines in lib/module_maintenance.php, so that
    maintenance modules can use them instead of reinventing the wheel
  - moved physician.php3 -> modules/provider.module.php
  - moved roomequip.php -> modules/room_equipment.module.php
  - moved phystatus.php3 -> modules/physician_status.module.php
  - moved phygroup.php3 -> modules/physician_groups.module.php
  - moved insurance_modifiers.php3 -> modules/insurance_modifiers.module.php
  - moved all modules/physician_* to modules/provider_* with language changes
  - moved degrees.php3 -> modules/provider_certifications.module.php
  - moved specialties.php -> modules/provider_specialties.module.php

* Wed Dec 27 2000 rufustfirefly
  - started to convert Rx.php3 -> modules/prescription.module.php
  - modified EMR core module to check for access to current patient
  - set up stock del() function in maintenance module prototype instead of
    stub
  - removed db_maintenance_modules.php and folded into standard maint module

* Tue Dec 26 2000 rufustfirefly
  - updated README to suggest bware_cache and Zend Optimizer
  - added module listing of "Billing" category to billing_functions.php
  - moved show_appointments.php3 -> show_appointments.php
  - moved authenticate.php3 -> authenticate.php
  - moved import.php3 -> import.php
  - moved export.php3 -> export.php
  - moved user.php3 -> user.php
  - moved specialties.php3 -> specialties.php
  - moved manage_appointments.php3 -> manage_appointments.php
  - moved book_appointment.php3 -> book_appointment.php
  - created lib/ for all libraries
  - moved render_forms.inc -> lib/render_forms.php
  - moved iso-set.inc -> lib/iso-set.php
  - moved macros.inc -> lib/macros.php
  - moved language-loader.inc -> lib/language-loader.php
  - moved containers.inc -> lib/containers.php
  - moved module.php -> lib/module.php
  - moved module_maintenance.php -> lib/module_maintenance.php
  - moved freemed-calendar-functions.inc -> lib/calendar-functions.php
  - moved move_appointment.php3 -> move_appointment.php3
  - moved physician_day_view.php3 -> physician_day_view.php
  - moved physician_week_view.php3 -> physician_week_view.php
  - moved freemed-mail-functions.inc -> lib/mail-functions.php
  - moved freemed-functions.inc -> lib/API.php
  - moved global.var.inc -> lib/freemed.php
  - moved admin.php3 -> admin.php
  - moved main.php3 -> main.php
  - moved patient.php3 -> patient.php
  - moved manage.php3 -> manage.php
  - moved authorizations.php3 -> authorizations.php
  - fixed lib/module_maintenance.php to inheirit properly
  - actionbar function now passes $module
  - added modules/progress_notes.module.php
  - manage.php now pulls "Electronic Medical Record" modules
  - now have page_name = "module_loader.php" in lib/module.php
  - small addition to .pot file
  - procedure.php -> modules/procedure.module.php
  - fixed if(!defined()) to use quotes as per PHP manual

* Thu Dec 21 2000 rufustfirefly
  - more work on typeOfServiceMaintenance, now using module_maintenance.php
    for the prototype

* Thu Dec 14 2000 rufustfirefly
  - moved module.php inside if(!defined())'s
  - added module_maintenance.php for category classification

* Wed Dec 13 2000 rufustfirefly
  - started implementing new phpwebtools 0.2 PHP module loader classes and
    functions -- beginning of a new era in PHP application development
  - created modules/ directory with test module and awful port of
    type_of_service module to new style. should make intermediate classes,
    then extend *them* for the maintenance modules, to allow for less coding
    and more sweet goodness.

* Tue Dec 12 2000 rufustfirefly
  - moved payment_record.php over to using the wizard class
  - fixed display problems in payment_record ledger
  - added konqueror to the BROWSERS list
  - added Fred Forester to the CREDITS list
  - moved roomequip.php3 -> roomequip.php
  - moved tos.php3 -> type_of_service.php
  - procedure.php:
    - fixed back from delete action / fixed delete action
    - fixed stupid break from yesterday
    - cleaned up output ... centering, etc

* Mon Dec 11 2000 rufustfirefly
  - increased version number to 0.2.0-20001211 (CVS version)
  - moved in gettext and bcmath module detection into global.var.inc to 
    stem the run on list questions 
  - commited procedure.php3 with wizard code. due to recompiling PHP on my
    box without bcmath support by mistake, can't check it for problems.
  - moved procedure.php3 -> procedure.php
  - moved manage_bills.php3 -> manage_bills.php
  - moved generate_fixed_forms.php3 -> generate_fixed_forms.php
  - moved billing_functions.php3 -> billing_functions.php
  - moved redirect.php3 -> redirect.php
  - moved room.php3 -> room.php
  - moving to CVS Id tag for new files ... also taking out code by: line
    unless other than jeff
  - moved progress_notes.php3 -> progress_notes.php
  - moved payment_record.php3 -> payment_record.php
  - moved logout.php3 -> logout.php

* Wed Dec 6  2000 fforest
  - billing_functions : new menu item to generate patient invoices
  - generate_fixed_forms : when doing the join on payrec and procrec we inadvertantly selected 
    procedures that where already marked as billed. 
    procamtallowed now considered in calculating total charges if it's not zero else use the original procedure charge.
    added new actions of invoice and geninvoice to selected all procedures/payments transferred to patient. this is the start
    of patient invoice billing.
  - manage_payment_records : fix display of procedure code. insert a new payrec of type rebill if a transfer or denial
    is rebilled. this will now show on the patient ledger for tracking rebills.
    during a payment transfer the OLD payrec was being updated where the selected procedure id matches the payrec id. 
    this should have been the selected procedure id matching the payrec payrecproc,this patient and payrectype of PROCEDURE.
  - manage_bills : now informs the user is ANY unpaid procedures have NOT been billed.
    
* Tue Dec 05 2000 rufustfirefly
  - moved procedure module to wizard class. probably still broken, so i
    haven't committed yet.

* Wed Nov 29 2000 fforest
  - added procamtallowed to procrec
  - allow manage_payments to handle an allowed amount (fee schedule adjustment). update payrec with 
    paytype 6. not procedure cat in payrec and type 6 is a feee adjust. changed some field titles
    now shows if procedure has been billed. added refresh option to dropbox to allow screen
    refresh after changes.
  - payment_records changed to show a fee adjust
  - added file manage_biils.php3. gives a view of unpaid procs from billing menu. from there
    user can navigate to patient, manage_payments or payment_records.

* Wed Nov 22 2000 rufustfirefly
  - fixed calls to fm_date_entry() to echo, since it now returns buffer,
    in all active modules

* Fri Nov 17 2000 fforest - 0.2.0
  - Fixed bug in manage_payment. rebill broken
  - enhanced HFCA fixedform
  - generate_fixed_forms can print a 1500 form
  - code in billing_functions started for a better bill viewing experience.
  - admin.php. removed create/drop db. not secure. added drop table for each table.
    reapplied the db fields removed in 0.2.0 to ease conversion from 0.1.0
    made reloading stock data optional. (also for migration).

* Tue Nov 14 2000 rufustfirefly - Version 0.2
  - fixed up the README to correspond with the final version of 0.2, with
    full installation instructions
  - moved freemed.db out and instituted new freemed.db.mysql file

* Mon Nov 06 2000 rufustfirefly - Version 0.2
  - cleaned up local copy of tree
  - new spec file for release

* Tue Oct 17 2000 rufustfirefly - Version 0.2_pre2
  - now processes lang/registry, ignoring comment lines
  - added lang/registry to replace old language registry system
  - started new changelog

